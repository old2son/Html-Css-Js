<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>this</title>
</head>
<body>
	<script>
		/* 关于this,this的指向由调用的时候决定，
		调用者是谁，this指向谁 */
		function Person(name){
			this.name = name;
		}
		Person.prototype.showName = function(){
			console.log(this.name);
		}
		var p1 = new Person('静静');  // 这一行决定 this 指向p1
		var p2 = new Person('敏敏'); // 这一行决定 this 指向p2
		var p3 = new Person(); // p3.name === undefined;

		p1.showName();
		p2.showName();
		/* 
		  this的指向由函数的调用方式决定:
		函数中的this就是调用函数的对象，
		调用函数时 .前的那个对象	
		*/

		var obj = {
			name:'琪琪',
			showName: function(){
				console.log(this.name);
			}
		}
		obj.showName();
		// 这里的 this 指向obj
		/*----------------------------------------------------------------*/
		window.onload = function(){
			var div = document.getElementById('div');
			div.onclick = function(){
				console.log(this.innerHTML);
				// 事件函数中 this指向的是绑定事件的那个标签对象
			}		
		}
		/*----------------------------------------------------------------*/
		setInterval(function(){
			//定时器函数的 this指向window
			console.log(this===window);
		},1000);
		/*----------------------------------------------------------------*/
		function foo(){
			"use strict"
			// 严格模式 ECMAscript5.0中，普通函数this为undefine
			// ES3中指向window
			console.log(this);
		}
		foo();

	</script>
	<div id="div" style="width: 100px;height: 100px;background-color: lightgreen;">test test test</div>
</body>
</html>