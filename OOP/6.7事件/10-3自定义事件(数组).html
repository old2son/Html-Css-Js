<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>数组</title>
</head>
<body>
	<script>
		obj = {};
		obj['abc'] = [];
		obj['Hello'] = [];
		// console.log(obj);

		// 这里的 字符串 要和上面的属性名一致
		var attrName = 'abc';
		obj[attrName].push(function(){console.log('1+1=?');});
		obj[attrName].push(function(){console.log('3+5=?');});
		obj[attrName].push(function(){console.log('5+9=?');});
		var attrName2 = 'Hello';
		obj[attrName2].push(function(){console.log('如何真诚地道一个歉?');});
		obj[attrName2].push(function(){console.log('面对死亡应如何挽回自身?');});
		obj[attrName2].push(function(){console.log('为何总要拒绝别人的帮忙?');});

		console.dir(obj);

		function addEvent(element,type,fn){
			element.obj = element.obj || {}
			element.obj[type] = element.obj[type] || [];
			element.obj[type].push(fn);
		}
		function fireEvent(element,type){
			var arr = element.obj[type];
			for(var i=0;i<arr.length;i++){
				arr[i]();
			}
		}
		window.onload = function(){
			var div = document.getElementById('div');
			addEvent(div,'abc',function(){
				console.log('1+1=?');
			});
			addEvent(div,'abc',function(){
				console.log('3+5');
			});
			addEvent(div,'baike',function(){
				console.log('如何真诚地道一个歉');
			});
			addEvent(div,'baike',function(){
				console.log('为何总要拒绝别人的帮忙');
			});
			console.dir(div);

			fireEvent(div,'abc');
			fireEvent(div,'baike');
		}
	</script>
	<div id='div'></div>
</body>
</html>