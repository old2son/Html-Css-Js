<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>appendTo补充</title>
	<script src='js/Jerry_test1.js'></script>
	<script>
	// 补充的方法
	$.fn.extend({
	// 	appendTo : function(param){
	// 		//  this 为 Jerry 实例，新标签集合
	// 		var origins = this;
	// 		var targets = Jerry(param);
	// 		var nodes = [];
	// 		var n = 0;
	// 		for(var key in targets){
	// 			// for in  会把 length 也遍历， 用if判断去除它
	// 			if(key === 'length'){
	// 				// hasOwnProperty 判断属性是否在对象自身，取反，判断是否在原型
	// 				// 过滤长度属性 和 函数属性 或其他属性
	// 				if(key==='length' || !targets.hasOwnProperty(key)){
	// 					continue;
	// 				}
	// 			}
	// 			n++; // 记录器，用来判断目标元素的长度是否最后一个
	// 			var target = targets[key];
	// 			for(var k in origins){
	// 				if(k==='length' || !origins.hasOwnProperty(k)){
	// 					continue;
	// 				}
	// 				var node = null;
	// 				if(targets.length - 1===n){
	// 					node = origins[k];
	// 				}else{
	// 					node = origins[k].cloneNode(true);
	// 					nodes.push(node);
	// 				}
	// 				console.log(target)
	// 				target.appendChild(node);
	// 			}
	// 		}
	// 		[].push.apply(this,nodes); // 实例化克隆的元素
	// 		return this // 返回实例化的 2个 新元素 和 4个克隆元素
	// 	}
	// });

	appendTo : function(param){
		// this为jerry实例，源数据
		var origins = this;
		var targets = Jerry(param) // 同样是Jerry实例,但是实例的内容不一样,目标元素。
		var nodes = [];
		for(var i=0;i<targets.length;i++){
			// 遍历目标元素,缓存其中一个元素
			var tar = targets[i];
			for(var j=0;j<origins.length;j++){
				//遍历 源数据,把每一个元素 放到 其中一个目标元素中
				var node = null; //用于缓存克隆的元素
				if(targets.length - 1 === i){
					// 只剩最后一个目标元素时，不再复制 
					node = origins[j];
				}else {
					node = origins[j].cloneNode(true);
					nodes.push(node); // 把克隆的元素存在数组
				}
				// 往目标元素插入 源数据
				tar.appendChild(node);
			}
		}
		[].push.apply(this,nodes); // 实例化克隆的元素
		return this // 返回实例克隆的实例,方便链式编程
	}
});
	window.onload = function(){
		var ret = $('<div>tom</div><div>jerry</div>').appendTo('div');
		console.dir(ret);
	}

	</script>
</head>
<body>
	<div></div>
	<div></div>
	<div></div>
	<div></div>
</body>
</html>