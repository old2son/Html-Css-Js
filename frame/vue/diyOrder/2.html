<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>钩子函数</title>
	<style type="text/css">

	</style>
	<script src="../2.1.8/vue.min.js"></script>
</head>
<body>
	
	<div id='app' v-noob:hello.a.b='message'>
		
	</div>
	<script>
		/*
			指令定义函数提供几个钩子函数：
			bind, 只调用一次, 指令第一个绑定到元素时调用;
			inserted, 被绑定元素插入父节点时调用;
			update, 模板更新时调用;
			componentUpdated, 被绑定元素所在模板完成一次更新周期时调用;
			unbind, 只调用一次, 指令与元素解绑时调用;


			钩子函数的参数：
			el, 指令所绑定的元素, 可以用来直接操作 DOM;
			
			binding, 一个对象,有一下属性:
				name 指令名, 不包括 v- 前缀。
				value 指令的绑定值, 如： v-my-directive="1 + 1", value 的值是 2。
				oldValue 指令绑定的前一个值
				expression 绑定值的字符串形式
				arg 传给指令的参数
				modifiers 包含修饰符的对象

			vnode, Vue 编译生成的虚拟节点
			oldVnode, 上一个虚拟节点
		*/ 

		Vue.directive('noob', {
			bind: function (el, binding, vnode) {
				var s = JSON.stringify
				el.innerHTML = 
					'name: '       + s(binding.name) + '<br>' +
				    'value: '      + s(binding.value) + '<br>' +
				    'expression: ' + s(binding.expression) + '<br>' +
				    'argument: '   + s(binding.arg) + '<br>' +
				    'modifiers: '  + s(binding.modifiers) + '<br>' +
				    'vnode keys: ' + Object.keys(vnode).join(', ')
			}
		})


		new Vue({
			el: '#app',
			data: {
				message: '菜鸟精英'
			}
		})
	</script>
</body>
</html>